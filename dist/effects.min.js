/*
Copyright (c) 2019 Daybrush
name: @scenejs/effects
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/scenejs-effects.git
version: 0.0.6
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("scenejs")):"function"==typeof define&&define.amd?define(["exports","scenejs"],t):t((e=e||self).Scene=e.Scene||{},e.Scene)}(this,function(e,x){"use strict";function m(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var r=t[1],o=t[2];return{prefix:r,unit:t[3],value:parseFloat(o)}}function v(e,t,r){for(var o=new x.SceneItem({},r),n=t.length,i=0;i<n;++i)o.set(i/(n-1)*100+"%",e,t[i]);return o}function a(e){var t,r=void 0===e?{}:e,o=r.x,n=void 0===o?1:o,i=r.y,a=void 0===i?1:i,v=r.backside,d=void 0!==v&&v,f=new x.SceneItem({},e),u="",s="",c="",p=n&&a||n?n:a,l=d?0<p?180:-180:0,m=l+180*p;if(n&&a){var y=[0<n?1:-1,0<a?1:-1,0,""].join(",");u="rotate3d",s=y+l+"deg",c=y+m+"deg"}else{if(n)u="rotateX";else{if(!a)return f;u="rotateY"}s=l+"deg",c=m+"deg"}return f.set({transform:(t={},t[u]=[s,c],t)}),f}function d(e){var t=void 0===e?{}:e,r=t.properties,o=void 0===r?{transform:{translateX:["-10px","10px"],translateY:["-10px","10px"],rotate:["-10deg","10deg"]}}:r,n=t.frequency,c=void 0===n?10:n,p=new x.SceneItem({},e),l=new x.Frame(o);return l.getNames().forEach(function(e,t){var r=l.get.apply(l,e),o=0,n=0,i="";if(function(e){return Array.isArray(e)}(r)){var a=m(r[0]),v=a.value;i=a.unit,o=v,n=m(r[1]).value}else{var d=m(r),f=d.value;i=d.unit,o=-(n=Math.abs(f))}p.set.apply(p,["0%"].concat(e,[""+(o+n)/2+i])),p.set.apply(p,["100%"].concat(e,[""+(o+n)/2+i]));for(var u=1;u<=c;++u){var s=Math.random()*(n-o)+o;p.set.apply(p,[u/(c+1)*100+"%"].concat(e,[""+s+i]))}}),p}e.blink=function(e){var t=void 0===e?{}:e,r=t.from,o=void 0===r?0:r,n=t.to;return v("opacity",[o,void 0===n?1:n,o],e)},e.fadeIn=function(e){var t=void 0===e?{}:e,r=t.from,o=void 0===r?0:r,n=t.to;return v("opacity",[o,void 0===n?1:n],e)},e.fadeOut=function(e){var t=void 0===e?{}:e,r=t.from,o=void 0===r?1:r,n=t.to;return v("opacity",[o,void 0===n?0:n],e)},e.flip=a,e.flipX=function(e){var t=void 0===e?{}:e,r=t.x,o=void 0===r?1:r,n=t.backside,i=a({y:0,x:o,backside:void 0!==n&&n});return i.setOptions(e),i},e.flipY=function(e){var t=void 0===e?{}:e,r=t.y,o=void 0===r?1:r,n=t.backside,i=a({x:0,y:o,backside:void 0!==n&&n});return i.setOptions(e),i},e.shake=d,e.shakeX=function(e){var t=void 0===e?{}:e,r=t.x,o=void 0===r?["-5px","5px"]:r,n=t.frequency,i=d({properties:{transform:{translateX:o}},frequency:void 0===n?10:n});return i.setOptions(e),i},e.shakeY=function(e){var t=void 0===e?{}:e,r=t.y,o=void 0===r?["-5px","5px"]:r,n=t.frequency,i=d({properties:{transform:{translateY:o}},frequency:void 0===n?10:n});return i.setOptions(e),i},e.transition=function(e,t,r){var o,n=new x.SceneItem;n.append(r);var i=n.getDuration(),a=Math.max(e.getDuration()-i,0);e.set(((o={})[a]=n,o)),n.setDirection("reverse"),t.set({0:n})},e.wipeIn=function(e){var t=void 0===e?{}:e,r=t.from,o=void 0===r?"-100%":r,n=t.to,i=void 0===n?"0%":n,a=t.property;return v(void 0===a?"left":a,[o,i],e)},e.wipeOut=function(e){var t=void 0===e?{}:e,r=t.from,o=void 0===r?"0%":r,n=t.to,i=void 0===n?"100%":n,a=t.property;return v(void 0===a?"left":a,[o,i],e)},e.zoomIn=function(e){var t=void 0===e?{}:e,r=t.from,o=void 0===r?0:r,n=t.to;return v(["transform","scale"],[o,void 0===n?1:n],e)},e.zoomOut=function(e){var t=void 0===e?{}:e,r=t.from,o=void 0===r?1:r,n=t.to;return v(["transform","scale"],[o,void 0===n?0:n],e)}});
//# sourceMappingURL=effects.min.js.map
