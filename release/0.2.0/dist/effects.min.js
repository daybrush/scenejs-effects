/*
Copyright (c) Daybrush
name: @scenejs/effects
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/scenejs-effects.git
version: 0.2.0
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("scenejs")):"function"==typeof define&&define.amd?define(["exports","scenejs"],t):t((e=e||self).Scene=e.Scene||{},e.Scene)}(this,function(e,x){"use strict";function y(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var o=t[1],r=t[2];return{prefix:o,unit:t[3],value:parseFloat(r)}}function v(e,t,o){for(var r=new x.SceneItem({},o),n=t.length,i=0;i<n;++i)r.set(i/(n-1)*100+"%",e,t[i]);return r}function a(e){var t,o=void 0===e?{}:e,r=o.x,n=void 0===r?1:r,i=o.y,a=void 0===i?1:i,v=o.backside,d=void 0!==v&&v,s=new x.SceneItem({},e),f="",u="",c="",p=n&&a||n?n:a,l=d?0<p?180:-180:0,y=l+180*p;if(n&&a){var m=[0<n?1:-1,0<a?1:-1,0,""].join(",");f="rotate3d",u=m+l+"deg",c=m+y+"deg"}else{if(n)f="rotateX";else{if(!a)return s;f="rotateY"}u=l+"deg",c=y+"deg"}return s.set({transform:(t={},t[f]=[u,c],t)}),s}function d(e){var t=void 0===e?{}:e,o=t.properties,r=void 0===o?{transform:{translateX:["-10px","10px"],translateY:["-10px","10px"],rotate:["-10deg","10deg"]}}:o,n=t.frequency,c=void 0===n?10:n,p=new x.SceneItem({},e),l=new x.Frame(r);return l.getNames().forEach(function(e,t){var o=l.get.apply(l,e),r=0,n=0,i="";if(function(e){return Array.isArray(e)}(o)){var a=y(o[0]),v=a.value;i=a.unit,r=v,n=y(o[1]).value}else{var d=y(o),s=d.value;i=d.unit,r=-(n=Math.abs(s))}p.set.apply(p,["0%"].concat(e,[""+(r+n)/2+i])),p.set.apply(p,["100%"].concat(e,[""+(r+n)/2+i]));for(var f=1;f<=c;++f){var u=Math.random()*(n-r)+r;p.set.apply(p,[f/(c+1)*100+"%"].concat(e,[""+u+i]))}}),p}e.blink=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?0:o,n=t.to;return v("opacity",[r,void 0===n?1:n,r],e)},e.fadeIn=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?0:o,n=t.to;return v("opacity",[r,void 0===n?1:n],e)},e.fadeOut=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?1:o,n=t.to;return v("opacity",[r,void 0===n?0:n],e)},e.flip=a,e.flipX=function(e){var t=void 0===e?{}:e,o=t.x,r=void 0===o?1:o,n=t.backside,i=a({y:0,x:r,backside:void 0!==n&&n});return i.setOptions(e),i},e.flipY=function(e){var t=void 0===e?{}:e,o=t.y,r=void 0===o?1:o,n=t.backside,i=a({x:0,y:r,backside:void 0!==n&&n});return i.setOptions(e),i},e.shake=d,e.shakeX=function(e){var t=void 0===e?{}:e,o=t.x,r=void 0===o?["-5px","5px"]:o,n=t.frequency,i=d({properties:{transform:{translateX:r}},frequency:void 0===n?10:n});return i.setOptions(e),i},e.shakeY=function(e){var t=void 0===e?{}:e,o=t.y,r=void 0===o?["-5px","5px"]:o,n=t.frequency,i=d({properties:{transform:{translateY:r}},frequency:void 0===n?10:n});return i.setOptions(e),i},e.transition=function(e,t,o){var r,n=new x.SceneItem;n.append(o);var i=n.getDuration(),a=Math.max(e.getDuration()-i,0);e.set(((r={})[a]=n,r)),n.setDirection("reverse"),t.set({0:n})},e.typing=function(e){var t=void 0===e?{}:e,o=t.property,r=void 0===o?["html"]:o,n=t.text,i=void 0===n?"":n,a=t.start,v=void 0===a?0:a,d=t.end,s=void 0===d?i.length:d,f=[].concat(r),u=new x.SceneItem,c=Math.abs(s-v);if(v<s)for(var p=v;p<s;++p)u.set.apply(u,[p/c*100+"%"].concat(f,[i.substring(v,p)]));else for(p=s;p<v;++p)u.set.apply(u,[p/c*100+"%"].concat(f,[i.substring(s,v+s-p)]));return u.setOptions(e),u},e.wipeIn=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?"-100%":o,n=t.to,i=void 0===n?"0%":n,a=t.property;return v(void 0===a?"left":a,[r,i],e)},e.wipeOut=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?"0%":o,n=t.to,i=void 0===n?"100%":n,a=t.property;return v(void 0===a?"left":a,[r,i],e)},e.zoomIn=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?0:o,n=t.to;return v(["transform","scale"],[r,void 0===n?1:n],e)},e.zoomOut=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?1:o,n=t.to;return v(["transform","scale"],[r,void 0===n?0:n],e)}});
//# sourceMappingURL=effects.min.js.map
