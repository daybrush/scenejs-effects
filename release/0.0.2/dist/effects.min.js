/*
Copyright (c) 2019 Daybrush
name: @scenejs/effects
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/scenejs-effects.git
version: 0.0.2
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("scenejs"),require("@daybrush/utils")):"function"==typeof define&&define.amd?define(["exports","scenejs","@daybrush/utils"],t):t((e=e||self).Scene=e.Scene||{},e.Scene,e.utils)}(this,function(e,x,m){"use strict";function v(e,t,o){for(var r=new x.SceneItem({},o),i=t.length,n=0;n<i;++n)r.set(n/(i-1)*100+"%",e,t[n]);return r}function a(e){var t,o=void 0===e?{}:e,r=o.x,i=void 0===r?1:r,n=o.y,a=void 0===n?1:n,v=o.backside,d=void 0!==v&&v,s=new x.SceneItem({},e),f="",u="",c="",p=i&&a||i?i:a,l=d?0<p?180:-180:0,m=l+180*p;if(i&&a){var y=[0<i?1:-1,0<a?1:-1,0,""].join(",");f="rotate3d",u=y+l+"deg",c=y+m+"deg"}else{if(i)f="rotateX";else{if(!a)return s;f="rotateY"}u=l+"deg",c=m+"deg"}return s.set({transform:(t={},t[f]=[u,c],t)}),s}function d(e){var t=void 0===e?{}:e,o=t.properties,r=void 0===o?{transform:{translateX:["-10px","10px"],translateY:["-10px","10px"],rotate:["-10deg","10deg"]}}:o,i=t.frequency,c=void 0===i?10:i,p=new x.SceneItem({},e),l=new x.Frame(r);return l.getNames().forEach(function(e,t){var o=l.get.apply(l,e),r=0,i=0,n="";if(m.isArray(o)){var a=m.splitUnit(o[0]),v=a.value;n=a.unit,r=v,i=m.splitUnit(o[1]).value}else{var d=m.splitUnit(o),s=d.value;n=d.unit,r=-(i=Math.abs(s))}p.set.apply(p,["0%"].concat(e,[""+(r+i)/2+n])),p.set.apply(p,["100%"].concat(e,[""+(r+i)/2+n]));for(var f=1;f<=c;++f){var u=Math.random()*(i-r)+r;p.set.apply(p,[f/(c+1)*100+"%"].concat(e,[""+u+n]))}}),p}e.blink=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?0:o,i=t.to;return v("opacity",[r,void 0===i?1:i,r],e)},e.fadeIn=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?0:o,i=t.to;return v("opacity",[r,void 0===i?1:i],e)},e.fadeOut=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?1:o,i=t.to;return v("opacity",[r,void 0===i?0:i],e)},e.flip=a,e.flipX=function(e){var t=void 0===e?{}:e,o=t.x,r=void 0===o?1:o,i=t.backside,n=a({y:0,x:r,backside:void 0!==i&&i});return n.setOptions(e),n},e.flipY=function(e){var t=void 0===e?{}:e,o=t.y,r=void 0===o?1:o,i=t.backside,n=a({x:0,y:r,backside:void 0!==i&&i});return n.setOptions(e),n},e.shake=d,e.shakeX=function(e){var t=void 0===e?{}:e,o=t.x,r=void 0===o?["-5px","5px"]:o,i=t.frequency,n=d({properties:{transform:{translateX:r}},frequency:void 0===i?10:i});return n.setOptions(e),n},e.shakeY=function(e){var t=void 0===e?{}:e,o=t.y,r=void 0===o?["-5px","5px"]:o,i=t.frequency,n=d({properties:{transform:{translateY:r}},frequency:void 0===i?10:i});return n.setOptions(e),n},e.transition=function(e,t,o){var r,i=new x.SceneItem;i.append(o);var n=i.getDuration(),a=Math.max(e.getDuration()-n,0);e.set(((r={})[a]=i,r)),i.setDirection("reverse"),t.set({0:i})},e.wipeIn=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?"-100%":o,i=t.to,n=void 0===i?"0%":i,a=t.property;return v(void 0===a?"left":a,[r,n],e)},e.wipeOut=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?"0%":o,i=t.to,n=void 0===i?"100%":i,a=t.property;return v(void 0===a?"left":a,[r,n],e)},e.zoomIn=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?0:o,i=t.to;return v(["transform","scale"],[r,void 0===i?1:i],e)},e.zoomOut=function(e){var t=void 0===e?{}:e,o=t.from,r=void 0===o?1:o,i=t.to;return v(["transform","scale"],[r,void 0===i?0:i],e)}});
//# sourceMappingURL=effects.min.js.map
