{"version":3,"file":"effects.esm.js","sources":["../src/effects.ts"],"sourcesContent":["import { SceneItem, AnimatorState } from \"scenejs\";\nimport { IObject } from \"@daybrush/utils\";\nimport { EffectState } from \"./types\";\n\n/**\n * @namespace effects\n */\n\n/**\n * Use the property to create an effect.\n * @memberof effects\n * @private\n * @param - property to set effect\n * @param - values of 100%\n * @example\n// import {set, blink} from \"@scenejs/effects\";\n// set(\"opacity\", [0, 1, 0], {duration: 2});\nScene.set(\"opacity\", [0, 1, 0], {duration: 2});\n\n// Same\nScene.blink({duration: 2});\n\n// Same\nnew SceneItem({\n\t\"0%\": {\n\t\topacity: 0,\n\t},\n\t\"50%\": {\n\t\topacity: 1,\n\t}\n\t\"100%\": {\n\t\topacity: 0,\n\t}\n}, {\n\tduration: 2,\n});\n */\nfunction set(property: string | string[], values: any[], options: Partial<AnimatorState>) {\n    const item = new SceneItem({}, options);\n    const length = values.length;\n\n    for (let i = 0; i < length; ++i) {\n        item.set(`${i / (length - 1) * 100}%`, property, values[i]);\n    }\n    return item;\n}\n\n/**\n * Make a zoom in effect.\n * @memberof effects\n * @param {AnimatorOptions} options\n * @param {number} [options.from = 0] start zoom\n * @param {number}[options.to = 1] end zoom\n * @param {number} options.duration animation's duration\n * @example\n// import {set, zoomIn} from \"@scenejs/effects\";\n// zoomIn({duration: 2});\nScene.zoomIn({duration: 2});\n// Same\nnew SceneItem({\n\t\"0%\": {\n\t\t\"transform\": \"scale(0)\",\n\t},\n\t\"100%\": {\n\t\t\"transform\": \"scale(1)\",\n\t}\n}, {\n\tduration: 2,\n});\n */\nexport function zoomIn({ from = 0, to = 1 }: Partial<EffectState>) {\n    return set([\"transform\", \"scale\"], [from, to], arguments[0]);\n}\n\n/**\n * Make a zoom out effect.\n * @memberof effects\n * @param {AnimatorOptions} options\n * @param {number} [options.from = 1] start zoom\n * @param {number}[options.to = 0] end zoom\n * @param {number} options.duration animation's duration\n * @example\n// import {zoomOut} from \"@scenejs/effects\";\n// zoomOut({duration: 2});\nScene.zoomOut({duration: 2});\n// Same\nnew SceneItem({\n\t\"0%\": {\n\t\t\"transform\": \"scale(1)\",\n\t},\n\t\"100%\": {\n\t\t\"transform\": \"scale(0)\",\n\t}\n}, {\n\tduration: 2,\n});\n */\nexport function zoomOut({ from = 1, to = 0 }: Partial<EffectState>) {\n    return set([\"transform\", \"scale\"], [from, to], arguments[0]);\n}\n\n/**\n * Make a wipe in effect.\n * @memberof effects\n * @param {AnimatorOptions} options\n * @param {string|string[]} [options.property = \"left\"] position property\n * @param {number|string} [options.from = \"-100%\"] start position\n * @param {number|string}[options.to = \"0%\"] end position\n * @param {number} options.duration animation's duration\n * @example\n// import {wipeIn} from \"@scenejs/effects\";\n// wipeIn({property: \"left\", duration: 2});\nScene.wipeIn({property: \"left\", duration: 2});\n// Same\nnew SceneItem({\n\t\"0%\": {\n\t\t\"left\": \"-100%\",\n\t},\n\t\"100%\": {\n\t\t\"left\": \"0%\",\n\t}\n}, {\n\tduration: 2,\n});\n */\nexport function wipeIn({ from = \"-100%\", to = \"0%\", property = \"left\" }: Partial<EffectState>) {\n    return set(property, [from, to], arguments[0]);\n}\n\n/**\n * Make a wipe out effect.\n * @memberof effects\n * @param {AnimatorOptions} options\n * @param {string|string[]} [options.property = \"left\"] position property\n * @param {number|string} [options.from = \"0%\"] start position\n * @param {number|string}[options.to = \"100%\"] end position\n * @param {number} options.duration animation's duration\n * @example\n// import {wipeOut} from \"@scenejs/effects\";\n// wipeOut({property: \"left\", duration: 2});\nScene.wipeOut({property: \"left\", duration: 2});\n// Same\nnew SceneItem({\n\t\"0%\": {\n\t\t\"left\": \"0%\",\n\t},\n\t\"100%\": {\n\t\t\"left\": \"100%\",\n\t}\n}, {\n\tduration: 2,\n});\n */\nexport function wipeOut({ from = \"0%\", to = \"100%\", property = \"left\" }: Partial<EffectState>) {\n    return set(property, [from, to], arguments[0]);\n}\n\n/**\n * Use the property to create an effect.\n * @memberof effects\n * @param {Scene.SceneItem} item1 - Item that end effect\n * @param {Scene.SceneItem} item2 - Item that start effect\n * @param {AnimatorOptions} options\n * @param {object} options.from The starting properties of item1 and end properties of item2\n * @param {object} options.to The starting properties of item2 and end properties of item1\n * @param {number} options.duration animation's duration\n * @param {number} [options.time] start time of item1 <br/> <strong>default: item1.getDuration() - duration</strong>\n * @example\n// import {transition} from \"@scenejs/effects\";\ntransition(item1, item2, {\n\tfrom: {\n\t\topacity: 1,\n\t},\n\tto: {\n\t\topacity: 0,\n\t},\n\tduration: 0.1,\n});\n\n// Same\nitem1.set({\n\t[item1.getDuration() - 0.1]: {\n\t\topacity: 1,\n\t},\n\t[item1.getDuration()]: {\n\t\topacity: 0,\n\t}\n});\nitem2.set({\n\t0: {\n\t\topacity: 0,\n\t},\n\t0.1: {\n\t\topacity: 1,\n\t}\n});\n */\nexport function transition(item1: SceneItem, item2: SceneItem, {\n    from,\n    to,\n    duration = item1.getDuration(),\n    time = Math.max(item1.getDuration() - duration, 0),\n}: { from: IObject<any>, to: IObject<any>, duration?: number, time?: number }) {\n    item1.set({\n        [time]: to,\n        [time + duration]: from,\n    });\n    item2.set({\n        0: from,\n        [duration]: to,\n    });\n}\n\n/**\n * Make a fade in effect.\n * @memberof effects\n * @param {AnimatorState} options\n * @param {number} [options.from = 0] start opacity\n * @param {number}[options.to = 1] end opacity\n * @param {number} options.duration animation's duration\n * @example\n// import {fadeIn} from \"@scenejs/effects\";\n// fadeIn({duration: 2});\nScene.fadeIn({duration: 2});\n// Same\nnew SceneItem({\n\t\"0%\": {\n\t\topacity: 0,\n\t},\n\t\"100%\": {\n\t\topacity: 1,\n\t}\n}, {\n\tduration: 2,\n});\n */\nexport function fadeIn({ from = 0, to = 1 }: Partial<EffectState>) {\n    return set(\"opacity\", [from, to], arguments[0]);\n}\n\n/**\n * Make a fade out effect.\n * @memberof effects\n * @param {AnimatorState} options\n * @param {number} [options.from = 1] start opacity\n * @param {number}[options.to = 0] end opacity\n * @param {number} options.duration animation's duration\n * @example\n// import {fadeOut} from \"@scenejs/effects\";\n// fadeOut({duration: 2});\nScene.fadeOut({duration: 2});\n// Same\nnew SceneItem({\n\t\"0%\": {\n\t\topacity: 1,\n\t},\n\t\"100%\": {\n\t\topacity: 0,\n\t}\n}, {\n\tduration: 2,\n});\n */\nexport function fadeOut({ from = 1, to = 0 }: Partial<EffectState>) {\n    return set(\"opacity\", [from, to], arguments[0]);\n}\n/**\n * Make a blinking effect.\n * @memberof effects\n * @param {AnimatorState} options\n * @param {number} [options.from = 0] start opacity\n * @param {number}[options.to = 1] end opacity\n * @param {number} options.duration animation's duration\n * @example\n// import {blink} from \"@scenejs/effects\";\n// blink({duration: 2});\nScene.blink({duration: 2});\n// Same\nnew SceneItem({\n\t\"0%\": {\n\t\topacity: 0,\n\t},\n\t\"50%\": {\n\t\topacity: 1,\n\t},\n\t\"100%\": {\n\t\topacity: 0,\n\t}\n}, {\n\tduration: 2,\n});\n */\nexport function blink({ from = 0, to = 1 }: Partial<EffectState>) {\n    return set(\"opacity\", [from, to, from], arguments[0]);\n}\n"],"names":["set","property","values","options","item","SceneItem","length","i","zoomIn","_a","_b","from","_c","to","arguments","zoomOut","wipeIn","_d","wipeOut","transition","item1","item2","duration","_e","time","fadeIn","fadeOut","blink"],"mappings":";;;;;;;;;;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,SAASA,GAAT,CAAaC,QAAb,EAA0CC,MAA1C,EAAyDC,OAAzD;MACUC,IAAI,GAAG,IAAIC,SAAJ,CAAc,EAAd,EAAkBF,OAAlB,CAAb;MACMG,MAAM,GAAGJ,MAAM,CAACI,MAAtB;;OAEK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAApB,EAA4B,EAAEC,CAA9B,EAAiC;IAC7BH,IAAI,CAACJ,GAAL,CAAYO,CAAC,IAAID,MAAM,GAAG,CAAb,CAAD,GAAmB,GAAnB,MAAZ,EAAuCL,QAAvC,EAAiDC,MAAM,CAACK,CAAD,CAAvD;;;SAEGH,IAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BJ,SAAgBI,OAAOC;MAAEC;MAAAC;MAAUC;MAAAC;SACxBb,GAAG,CAAC,CAAC,WAAD,EAAc,OAAd,CAAD,EAAyB,CAACW,IAAD,EAAOE,EAAP,CAAzB,EAAqCC,SAAS,CAAC,CAAD,CAA9C,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BJ,SAAgBC,QAAQN;MAAEC;MAAAC;MAAUC;MAAAC;SACzBb,GAAG,CAAC,CAAC,WAAD,EAAc,OAAd,CAAD,EAAyB,CAACW,IAAD,EAAOE,EAAP,CAAzB,EAAqCC,SAAS,CAAC,CAAD,CAA9C,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BJ,SAAgBE,OAAOP;MAAEC;MAAAC;MAAgBC;MAAAC;MAAWI;MAAAhB;SACzCD,GAAG,CAACC,QAAD,EAAW,CAACU,IAAD,EAAOE,EAAP,CAAX,EAAuBC,SAAS,CAAC,CAAD,CAAhC,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BJ,SAAgBI,QAAQT;MAAEC;MAAAC;MAAaC;MAAAC;MAAaI;MAAAhB;SACzCD,GAAG,CAACC,QAAD,EAAW,CAACU,IAAD,EAAOE,EAAP,CAAX,EAAuBC,SAAS,CAAC,CAAD,CAAhC,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CJ,SAAgBK,WAAWC,OAAkBC,OAAkBZ;;;MAC3DE;MACAE;MACAI;MAAAK;MACAC;MAAAC;EAEAJ,KAAK,CAACpB,GAAN,WACIU,GAACc,KAAD,GAAQX,IACRH,GAACc,IAAI,GAAGF,SAAR,GAAmBX,QAFvB;EAIAU,KAAK,CAACrB,GAAN;OACOW;KACHC,GAACU,SAAD,GAAYT,MAFhB;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BJ,SAAgBY,OAAOhB;MAAEC;MAAAC;MAAUC;MAAAC;SACxBb,GAAG,CAAC,SAAD,EAAY,CAACW,IAAD,EAAOE,EAAP,CAAZ,EAAwBC,SAAS,CAAC,CAAD,CAAjC,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BJ,SAAgBY,QAAQjB;MAAEC;MAAAC;MAAUC;MAAAC;SACzBb,GAAG,CAAC,SAAD,EAAY,CAACW,IAAD,EAAOE,EAAP,CAAZ,EAAwBC,SAAS,CAAC,CAAD,CAAjC,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BJ,SAAgBa,MAAMlB;MAAEC;MAAAC;MAAUC;MAAAC;SACvBb,GAAG,CAAC,SAAD,EAAY,CAACW,IAAD,EAAOE,EAAP,EAAWF,IAAX,CAAZ,EAA8BG,SAAS,CAAC,CAAD,CAAvC,CAAV;;;;;"}